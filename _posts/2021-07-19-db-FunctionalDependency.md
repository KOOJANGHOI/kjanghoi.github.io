---
layout: post
title: Functional Dependency
subtitle: 
categories: [Database]
tags: [ComputerScience]
---

### 목차
- 바람직한 테이블 스키마가 아닌 경우의 발생하는 문제점을 파악한다 
- 바람직한 테이블 스키마를 설계하는 지침을 습득한다 
- 함수적 종속성의 개념에 관하여 학습한다 
- 함수적 종속성을 이용한 정규형 판정 방법을 학습한다 
- 정규화 방법에 관하여 학습한다  

### 테이블 스키마를 설계하는 몇 가지 개략적인 지침  
관계 데이타베이스 설계 
- 주어진 데이타베이스에 대하여 응용에서 사용하기에 ‘좋은 테이블 스키마’를 결정하는 과정 
- 각 테이블 내에 어떤 애트리뷰트들을 포함할 것인가를 결정
    - 의미적으로 상호 관계가 있는 애트리뷰트들을 하나의 테이블 스키마에 포함
    - 각 투플은 하나의 엔티티 인스턴스 또는 관계 인스턴스를 표현해야함
    - 서로 다른 다른 엔티티들의 애트리뷰트들이 하나의 테이블에 섞여있지 않아야 함    

좋은 테이블 스키마를 결정하는 개략적 기준 
- 애트리뷰트들의 의미 측면
- 투플들에서 중복되는 정보 측면
- 투플들 내의 널 값의 발생 측면
- 가짜 투플들의 발생 측면  

좋은 테이블 스키마를 결정하는 공식적 기준
- 정규형 

### 중복된 정보와 이상 

저장 공간의 최소화
- 테이블스키마설계목표중하나
- 정보의 중복을 제거함으로 가능 

변경 이상(anomaly)
- 원하는 변경 연산을 올바르게 할 수 없는문제
- 하나의 테이블에 둘 이상의 엔티티의 애트리뷰트들을 혼합함으로써 발생 
- 테이블에서 삽입, 삭제, 갱신 이상이 발생하지 않도록 테이블 스키마를 설계 해야 함

![1.1](/assets/images/database/6.1.png)

삽입이상 
- 사원이 없는 새 부서를 EMP-DEPT 테이블에 삽입할 수 없음
- DEPARTMENT와 EMPLOYEE 테이블로 분리된 경우에는 이러한 문제 발생하지 않음 

삭제이상
- 한 부서의 마지막 사원을 EMP-DEPT 테이블로부터 삭제할 수 없음
- DEPARTMENT와 EMPLOYEE 테이블로 분리된 경우에는 이러한 문제 발생하지 않음 

갱신이상 
- 한 부서의 관리자가 변경되면 EMP-DEPT 테이블내의 해당 부서에 속하는 모든 사원에 대한 투플을 일관되게 갱신해 주어야 함 
- DEPARTMENT와 EMPLOYEE 테이블로 분리된 경우에는 이러한 문제 발생하지 않음 

### 투플의 널값 

널값의의미 
- 해당 애트리뷰트가 이 투플에는 적용되지 않음 
- 이 투플에 대해서는 해당 애트리뷰트에 해당되는 정보를 아직 모름 
- 이 투플에 대해서는 해당 애트리뷰트에 해당되는 정보를 아직 기록하지 않았음  

널값의문제 
- 저장 공간의 낭비 
- 의미 해석이 모호 
- 집단함수의 적용 여부 모호 

지침
- 가능하다면 투플이 널 값을 가지지 않도록 테이블 스키마를 설계해야 함 
- 자주 널 값을 갖는 애트리뷰트들에 대해서는 별도의 테이블을 구성  

예제
회사 내에 약 10% 이하의 사원만이 자기 방이 있고 나머지는 없음 
- 방법 1: EMPLOYEE 테이블에 OFFICE_NUMBER 포함  (90% 투플은 널 값을 가짐)
- 방법 2: EMP_OFFICES(ESSN, OFFICE_NUMBER) 테이블을 별도로 만듦 (자기 방이 있는 사원들만 이 테이블에 넣으면 되므로 널 값 문제가 해결됨)

### 가짜 투플 
조인의 결과 실제로 존재하지 않는 투플들이 발생하는 현상. 테이블을 잘못된 방식으로 나눔으로써 발생  

해결방법
- 조인 연산의 결과가 의미있게 하기 위해서는 “무손실 조인(lossless join)” 특성이 필요 
- 가짜 투플들이 생성되지 않도록 하기 위하여 기본키와 외래키로 조인할 수 있도록 테이블 스키마를 설계해야 함 

### 함수적 종속성 
- 좋은 테이블을 판단하는 기준을 정하는 요소로 사용 
- 키와 더불어 정규형을 정의하는데 사용 
- 함수적 종속성은 테이블 스키마 R에 있는 특성이며, 테이블 인스턴스의 특성이 아님 
    - 즉, 특정 테이블 인스턴스로부터 추측하는 것이 아니라, 테이블 스키마를 대상으로 정의하는 것임 
    - 함수적 종속성은 모든 테이블 인스턴스 r(R)에서 성립해야 함 

#### 표기 
- X→Y의형태로표기 
- X가 Y를 함수적으로 결정한다고 말함 
- 혹은 Y가 X에 함수적으로 종속된다고 말함 

![1.1](/assets/images/database/6.2.png)

의미 
- 애트리뷰트들의 집합 X의 값이 애트리뷰트들의 집합 Y의 값을 유일하게 결정함을 의미 
- 임의의 테이블 내의 임의의 두 투플 t1과 t2에 대해 t1[X] = t2[X]이면, t1[Y] = t2[Y]임 
- 즉, 같은 X값을 갖는 투플들은 Y값도 같음을 의미 
- 실제 응용에서 필요한 제약 조건으로부터 유도됨  
유의사항 
- X가 R의 후보키이면, R의 어떤 애트리뷰트 Y에 대해서도 X→Y가성립 
- R에 X→Y가 존재한다고 하여 Y→X 가 존재하는것 은아님 
- 특정 인스턴스에서 발견하는 것이 아니라, 테이블 스키마에 대하여 지켜져야 하는 제약 조건




