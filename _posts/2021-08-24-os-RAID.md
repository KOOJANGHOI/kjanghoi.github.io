---
layout: post
title: 26.RAID
subtitle: 
categories: [OperatingSystem]
tags: [ComputerScience]
---

### RAID (Redundant Array of Inexpensive Disks) 
ì—¬ëŸ¬ ê°œì˜ í•˜ë“œ ë””ìŠ¤í¬ì— ì¼ë¶€ ì¤‘ë³µëœ ë°ì´í„°ë¥¼ ë‚˜ëˆ ì„œ ì €ìž¥í•˜ëŠ” ê¸°ìˆ ì´ë‹¤. ë””ìŠ¤í¬ ì–´ë ˆì´(disk array)ë¼ê³ ë„ í•œ ë‹¤. ë°ì´í„°ë¥¼ ë‚˜ëˆ„ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì´ ì¡´ìž¬í•˜ë©°, ì´ ë°©ë²•ë“¤ì„ ë ˆë²¨ì´ë¼ í•˜ëŠ”ë°, ë ˆë²¨ì— ë”°ë¼ ì €ìž¥ìž¥ì¹˜ì˜ ì‹ ë¢°ì„±ì„ ë†’ì´ê±°ë‚˜ ì „ì²´ì ì¸ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë“±ì˜ ë‹¤ì–‘í•œ ëª©ì ì„ ë§Œì¡±ì‹œí‚¬ ìˆ˜ ìžˆë‹¤. 

ìµœì´ˆì— ì œì•ˆë˜ì—ˆì„ ë•ŒëŠ” ë‹¤ì„¯ê°€ì§€ì˜ ë ˆë²¨ì´ ì¡´ìž¬í–ˆëŠ”ë°, ì´í›„ì— ì¤‘ì²© ë ˆë²¨ì„ ë¹„ë¡¯í•œ ì—¬ëŸ¬ ê°€ì§€ ë‹¤ë¥¸ ë ˆë²¨ë“¤ì´ ì¶”ê°€ë˜ì—ˆë‹¤. 

RAIDëŠ” ì—¬ëŸ¬ ê°œì˜ ë””ìŠ¤í¬ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ í•˜ë‚˜ì˜ ë…¼ë¦¬ì  ë””ìŠ¤í¬ë¡œ ìž‘ë™í•˜ê²Œ í•˜ëŠ”ë°, í•˜ë“œì›¨ì–´ì ì¸ ë°©ë²•ê³¼ ì†Œí”„íŠ¸ì›¨ì–´ì ì¸ ë°©ë²•ì´ ìžˆë‹¤. í•˜ë“œì›¨ì–´ì ì¸ ë°©ë²•ì€ ìš´ì˜ ì²´ì œì— ì´ ë””ìŠ¤í¬ê°€ í•˜ë‚˜ì˜ ë””ìŠ¤í¬ì²˜ëŸ¼ ë³´ì´ê²Œ í•œë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ì ì¸ ë°©ë²•ì€ ì£¼ë¡œ ìš´ì˜ì²´ì œ ì•ˆì—ì„œ êµ¬í˜„ë˜ë©°, ì‚¬ìš©ìžì—ê²Œ ë””ìŠ¤í¬ë¥¼ í•˜ë‚˜ì˜ ë””ìŠ¤í¬ì²˜ëŸ¼ ë³´ì´ê²Œ í•œë‹¤. 

Use multiple disks in concert to build a faster, bigger, and more reliable disk system. 
â€¢ RAID just looks like a big disk to the host system. 

#### Advantage
- Performance & Capacity: Using multiple disks in parallel
- Reliability: RAID can tolerate the loss of a disk. 
- Transparency: RAIDs provide these advantages transparently to systems that use them

#### Interface
When a RAID receives I/O request,
- The RAID calculates which disk to access.
- The RAID issue one or more physical I/Os to do so. 

#### Fault Model 
RAIDs are designed to detect and recover from certain kinds of disk faults. 

#### Fail-stop fault model 
A disk can be in one of two states: Working or Failed
- Working: all blocks can be read or written.
- Failed: the disk is permanently lost. 
- RAID controller can immediately observe when a disk has failed. 

#### Metric
- Capacity : How much useful capacity is available to systems? 
- Reliability : How many disk faults can the given design tolerate? 
- Performance : How fast sequential/random read and write


### RAID Level 0
Striping(simplest form as striping blocks)
- Spread the blocks across the disks in a round-robin fashion with n o redundancyâ€¨

![1.1](/assets/images/os/38.1.png)

#### Analysis 
- Capacity:  perfect. striping delivers N disks worth of useful capacity. 
- Performance : excellent. all disks are utilized often in parallel. 
- Reliability : bad. any disk failure will lead to data loss. 

#### RAID Level 1
Mirroring (tolerates disk failure)
- Copy more than one of each block in the system
- Copy block places on a separate disk. 

![1.1](/assets/images/os/38.2.png)

#### Analysis 
- Capacity:  expensive. The useful capacity of RAID-1 is N/2. 
- Reliability : does well. It can tolerate the failure of any one disk (up to N/2 failures depending on which disk fail). 

### RAID Level 4
Saving Space With Parity 

Add a single parity blockâ€¨A Parity block stores the redundant information for that stripe of blocks. 
- Compute parity via XOR operation of all of bits
- Recover lost bit from parity

![1.1](/assets/images/os/38.3.png)

#### Analysis 
- Capacity:  The useful capacity is ð‘ âˆ’ 1 . (ð‘ : the number of disks) 
- Reliability : tolerates 1 disk failure and no more. 




RAID Level 5: Rotating Parity 
Rotate the parity blocks across drives.â€¨Remove the parity-disk bottleneck for RAID-4 

![1.1](/assets/images/os/38.4.png)

Analysis 
Capacity:  The useful capacity is ð‘ âˆ’ 1 . (ð‘ : the number of disks) 
Reliability : tolerates 1 disk failure and no more. 



RAID Comparison: A Summary 

![1.1](/assets/images/os/38.5.png)

	âƒ	Performance and do not care about reliability -> RAID-0 (Striping)
	âƒ	Random I/O performance and Reliability -> RAID-1 (Mirroring)
	âƒ	Capacity and Reliability -> RAID-5
	âƒ	Sequential I/O and Maximize Capacity -> RAID-5 




